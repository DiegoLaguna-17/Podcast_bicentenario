<div class="repro">
  
  <div class="episodio-container">
    <h1 class="episodio-titulo">🎧 Episodio: {{episodio.titulo}}</h1>

    <div class="episodio-meta">
      <h2>Podcast: {{episodio.podcast_idpodcast.titulo}}</h2>
      <h2>Creador: {{episodio.podcast_idpodcast.creadores_idcreador.nombre}}</h2>
    </div>
    <button (click)="accionBotonSeguido()"style="width: 10vh;height: 5vh;">{{seguidos}}</button>

    <p class="episodio-descripcion">{{episodio.descripcion}}</p>

    <div class="episodio-detalles">
      <h3>📅 Fecha de publicación: <span>{{episodio.fechapublicacion}}</span></h3>
      <h3>👥 Participantes: <span>{{episodio.participantes}}</span></h3>
      <h3>Visualizaciones: <span>{{episodio.visualizaciones}}</span></h3>
    </div>

    <div class="audio-material-container mat-elevation-z8">
      <h2 class="titulo-episodio">🎙️ Reproductor de Episodio</h2>

      <audio #audioPlayer controls class="audio-player">
        <source [src]="episodio.audio" type="audio/mpeg" />
        <source [src]="episodio.audio" type="audio/aac" />
        Tu navegador no soporta el reproductor de audio.
      </audio>

      <div class="audio-controls">
        <mat-form-field appearance="fill" class="velocidad-selector">
          <mat-label>Velocidad</mat-label>
          <mat-select (selectionChange)="cambiarVelocidad($event, audioPlayer)">
            <mat-option *ngFor="let v of velocidades" [value]="v">{{ v }}x</mat-option>
          </mat-select>
        </mat-form-field>

        
      </div>
      
    </div>

    <div style="background-color: aliceblue; ">
      <h1>Transcripcion</h1>
      <p>{{transcripcion}}</p>
    </div>
    
    
  </div>
  <div style="background-color: wheat;">
      <h2>Calificar</h2>
      <div>
        <textarea [(ngModel)]="reseniar" style="width: 70%; height: 80%; font-size: 24px;"placeholder="Agrega una reseña"></textarea>
        <span 
          *ngFor="let star of [1,2,3,4,5]" 
          (click)="puntuacion = star"
          [style.color]="puntuacion >= star ? 'gold' : 'gray'"
          style="font-size: 2rem; cursor: pointer;">
          ★
        </span>
        <button (click)="reseniarEpisodio()" style="margin:0 auto; width: 25%; height: 80%;">Reseñar</button>
      </div>
      <h2> Resenias</h2>
      <app-list-resenia [resenias]="resenias"></app-list-resenia>
    </div>

  <div>
    <div *ngIf="rol!='Creador' || rol!='Administrador'"></div>
      <h1>Comentar</h1>
    <div style="width: 60%; height: 20vh; background-color: white; margin: 0 auto; display: flex; align-items: center; padding-left: 3vh;">
      <textarea [(ngModel)]="comentar"   style="width: 70%; height: 80%; font-size: 24px;" placeholder="Comenta sobre el episodio"></textarea>
      <button (click)="comentarEpisodio()" style="margin-left: 3vh; width: 25%; height: 80%;">Comentar</button>
    </div>

    
    <div>
      <app-list-comentarios [comentarios]="comentarios"></app-list-comentarios>
    </div>
  </div>
</div>
